FROM node:14

RUN apt-get update && \
    apt-get install -y curl software-properties-common python3 python3-pip && \
    npm install -g ganache-cli

RUN npm install --force web3
RUN npm install react-native-get-random-values


COPY srcs/ /app/sources/
EXPOSE 8545

 CMD ["sh", "-c", "ganache-cli --host 0.0.0.0 --port 8545 & sleep 2 && node /app/sources/deploy.js"]
